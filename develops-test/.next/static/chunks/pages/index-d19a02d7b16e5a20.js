(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(694)}])},694:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var l=t(4848),r=t(6540),n=t(1106),s=t.n(n),c=t(4335);let i=async()=>{try{return(await c.A.get("".concat("https://vpic.nhtsa.dot.gov/api","/vehicles/GetMakesForVehicleType/car?format=json"))).data.Results.map(e=>({value:e.MakeId,label:e.MakeName}))}catch(e){throw Error("Error fetching vehicle makes: "+e.message)}},d=(e,a)=>{let t=e.find(e=>e.value==a);return t&&t.label},h=()=>{let[e,a]=(0,r.useState)([]),[t,n]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[u,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await i();a(e),o(!1)}catch(e){console.error("Error fetching data:",e),o(!1)}})()},[]);let v=t&&c;return(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading ..."}),children:(0,l.jsx)("div",{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{children:"Filter Vehicles"}),u?(0,l.jsx)("div",{children:"Loading ..."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"make",children:"Vehicle Make"}),(0,l.jsxs)("select",{id:"make",value:t,onChange:e=>n(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select Make"}),e.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"year",children:"Model Year"}),(0,l.jsx)("input",{type:"number",id:"year",value:c,onChange:e=>h(e.target.value),min:"2010",max:new Date().getFullYear()})]}),(0,l.jsx)(s(),{href:"/result/".concat(t,"/").concat(c,"?makeName=").concat(d(e,t)),children:(0,l.jsx)("button",{disabled:!v,children:"Next"})})]})]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[884,636,593,792],()=>a(2022)),_N_E=e.O()}]);